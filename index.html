<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HYPERION / The Demand That Predicts Itself</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Libraries -->
    <script src="https://unpkg.com/d3@7.8.5/dist/d3.min.js"></script>
    <script src="https://unpkg.com/intersection-observer@0.12.2/intersection-observer.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --white: #FFFFFF;
            --almost-white: #FAFBFC;
            --soft-gray: #E8ECEF;
            --text-primary: #1A1F2E;
            --text-secondary: #5A6472;
            --accent-cyan: #CFFAFB;
            --accent-lilac: #A5B4FF;
            --accent-blue: #C6E1FF;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--white);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
        }

        .section {
            min-height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10rem 5vw;
        }

        .section__content {
            max-width: 1200px;
            width: 100%;
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 1.2s cubic-bezier(0.165, 0.84, 0.44, 1),
                        transform 1.2s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .section__content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .gradient-bg {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(207, 250, 251, 0.25), rgba(165, 180, 255, 0.15));
            z-index: -1;
        }

        h1 {
            font-size: clamp(3.5rem, 10vw, 8rem);
            font-weight: 300;
            line-height: 1.1;
            margin-bottom: 2rem;
            letter-spacing: -0.02em;
            color: var(--text-primary);
        }

        h2 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 400;
            line-height: 1.3;
            margin-bottom: 2.5rem;
            letter-spacing: -0.01em;
            color: var(--text-primary);
        }

        h3 {
            font-size: clamp(1.5rem, 3vw, 2.5rem);
            font-weight: 500;
            margin-bottom: 1.5rem;
        }

        p {
            font-size: clamp(1.15rem, 2vw, 1.35rem);
            line-height: 1.9;
            color: var(--text-secondary);
            max-width: 800px;
            margin-bottom: 1.5rem;
        }

        .metric {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 600;
            color: var(--text-primary);
            margin: 1rem 0;
            display: block;
        }

        .metric-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 500;
            display: block;
            margin-bottom: 2rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 3rem;
            margin: 3rem 0;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
        }

        .card {
            padding: 2rem;
            background: var(--almost-white);
            border-radius: 12px;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-4px);
        }

        #chart-container,
        #scatter-container,
        #network-container,
        #bar-container {
            width: 100%;
            min-height: 400px;
            margin: 3rem 0;
            background: var(--almost-white);
            border-radius: 12px;
            padding: 2rem;
        }

        .world-map {
            width: 100%;
            height: 400px;
            position: relative;
            background: radial-gradient(circle at 50% 50%, rgba(207, 250, 251, 0.3), transparent 70%);
            border-radius: 12px;
            overflow: hidden;
            margin: 3rem 0;
        }

        .pulse-line {
            position: absolute;
            height: 2px;
            background: var(--accent-lilac);
            animation: pulse 3s ease-in-out infinite;
            opacity: 0.6;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        .logo {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            letter-spacing: 0.2em;
            text-align: center;
            margin-top: 4rem;
            color: var(--text-primary);
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
        }

        .tech-item {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-cyan));
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.2rem;
            color: var(--text-primary);
            opacity: 0.9;
            transition: all 0.3s ease;
        }

        .tech-item:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .industry-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
        }

        .industry-card {
            height: 200px;
            background: linear-gradient(135deg, rgba(207, 250, 251, 0.4), rgba(165, 180, 255, 0.2));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 500;
            transition: all 0.4s ease;
        }

        .industry-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(165, 180, 255, 0.2);
        }

        .stat-box {
            text-align: center;
            padding: 2rem;
        }

        strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        em {
            font-style: italic;
            color: var(--accent-lilac);
        }

        @media (max-width: 768px) {
            .section {
                padding: 6rem 5vw;
            }
            
            .grid-2, .grid-4, .tech-grid, .industry-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <!-- Section 1: Arrival -->
    <section class="section" data-section="1">
        <div class="gradient-bg"></div>
        <div class="section__content">
            <h1>HYPERION</h1>
            <h2>The Demand That Predicts Itself</h2>
            <p>Energy demand breathes in rhythm.<br>
            HYPERION listens—and forecasts the next beat.</p>
        </div>
    </section>

    <!-- Section 2: Problem Context -->
    <section class="section" data-section="2">
        <div class="section__content">
            <h2>Predicting LPG demand is a puzzle of weather, economy, and habit.</h2>
            <p>Experience once guided it; now intelligence sees what intuition can't.</p>
            <div class="world-map">
                <div class="pulse-line" style="top: 30%; left: 20%; width: 40%; transform: rotate(-15deg);"></div>
                <div class="pulse-line" style="top: 50%; left: 40%; width: 35%; transform: rotate(25deg);"></div>
                <div class="pulse-line" style="top: 70%; left: 15%; width: 50%; transform: rotate(-8deg);"></div>
            </div>
        </div>
    </section>

    <!-- Section 3: Data Flow -->
    <section class="section" data-section="3">
        <div class="section__content">
            <h2>Each month, thousands of records arrive—</h2>
            <p>consumption, temperature, seasonality.<br>
            HYPERION reads the melody hidden inside numbers.</p>
            <div id="stream-viz" style="width: 100%; height: 300px; margin: 3rem 0; position: relative; background: var(--almost-white); border-radius: 12px;"></div>
        </div>
    </section>

    <!-- Section 4A: XGBoost -->
    <section class="section" data-section="4a">
        <div class="section__content">
            <h2>XGBoost: The Model as Instrument</h2>
            <div class="stat-box">
                <span class="metric" id="trees-counter">1,200</span>
                <span class="metric-label">trees trained on 240 months</span>
            </div>
            <p>Each corrects the last until MAPE = 
                <strong><span id="mape-counter">3.8</span>%</strong>,
                60% better than old linear models.
            </p>
            <p><strong>Precision at industrial scale.</strong></p>
            <div id="tree-viz" style="width: 100%; height: 250px; margin: 3rem 0; background: var(--almost-white); border-radius: 12px;"></div>
        </div>
    </section>

    <!-- Section 4B: Toolchain -->
    <section class="section" data-section="4b">
        <div class="section__content">
            <h2>Toolchain</h2>
            <div class="tech-grid">
                <div class="tech-item">Pandas<br><small>14,000 rows</small></div>
                <div class="tech-item">NumPy<br><small>Millions of ops</small></div>
                <div class="tech-item">Scikit-learn<br><small>Validates</small></div>
                <div class="tech-item">D3.js<br><small>Math to motion</small></div>
            </div>
        </div>
    </section>

    <!-- Section 4C: Resilience -->
    <section class="section" data-section="4c">
        <div class="section__content">
            <h2>Resilience</h2>
            <p>Cross-validation across four folds; no overfit.</p>
            <p><strong>Feature influence:</strong> Temp 41%, Season 33%, Growth 18%, Noise 8%.</p>
            <p>Prediction with reason.</p>
            <div id="bar-container"></div>
        </div>
    </section>

    <!-- Section 4D: Proof of Power -->
    <section class="section" data-section="4d">
        <div class="section__content">
            <h2>Proof of Power</h2>
            <div class="grid-4">
                <div class="stat-box">
                    <span class="metric">12%</span>
                    <span class="metric-label">less inventory waste</span>
                </div>
                <div class="stat-box">
                    <span class="metric">18%</span>
                    <span class="metric-label">faster shipments</span>
                </div>
                <div class="stat-box">
                    <span class="metric">$4.7M</span>
                    <span class="metric-label">saved</span>
                </div>
                <div class="stat-box">
                    <span class="metric">&lt;1.3s</span>
                    <span class="metric-label">forecast runtime</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 5: Forecast in Motion -->
    <section class="section" data-section="5">
        <div class="section__content">
            <h2>Forecast in Motion</h2>
            <p>Scroll forward—the future unfolds.<br>
            The line extends, confidence band breathing around it.</p>
            <div id="chart-container"></div>
        </div>
    </section>

    <!-- Section 6: Validation -->
    <section class="section" data-section="6">
        <div class="section__content">
            <h2>Validation</h2>
            <p>Accuracy verified on unseen months.<br>
            Predicted vs actual—near-perfect correlation.</p>
            <div id="scatter-container"></div>
        </div>
    </section>

    <!-- Section 7: Business Translation -->
    <section class="section" data-section="7">
        <div class="section__content">
            <h2>Business Translation</h2>
            <p><strong>Inventory meets demand.</strong><br>
            <strong>Trucks leave on time.</strong><br>
            <strong>Budgets anticipate seasons.</strong></p>
            <div style="width: 100%; height: 300px; background: linear-gradient(135deg, var(--accent-blue), var(--accent-cyan)); opacity: 0.4; border-radius: 12px; margin: 3rem 0;"></div>
        </div>
    </section>

    <!-- Section 8: Strategic Leverage -->
    <section class="section" data-section="8">
        <div class="section__content">
            <h2>Strategic Leverage</h2>
            <p><strong>Uncertainty shrinks.</strong><br>
            <strong>Reaction becomes prediction.</strong><br>
            <strong>Intuition becomes insight.</strong></p>
            <div class="grid-2" style="margin-top: 4rem;">
                <div class="card">Dashboard Analytics</div>
                <div class="card">Real-time Monitoring</div>
                <div class="card">Predictive Alerts</div>
                <div class="card">Strategic Planning</div>
            </div>
        </div>
    </section>

    <!-- Section 9: Expansion -->
    <section class="section" data-section="9">
        <div class="section__content">
            <h2>Expansion</h2>
            <p><strong>Freight. Finance. Healthcare. Agriculture.</strong><br>
            Wherever data moves through time, HYPERION learns.</p>
            <div class="industry-grid">
                <div class="industry-card">Freight</div>
                <div class="industry-card">Finance</div>
                <div class="industry-card">Healthcare</div>
                <div class="industry-card">Agriculture</div>
            </div>
        </div>
    </section>

    <!-- Section 10: Decision OS -->
    <section class="section" data-section="10">
        <div class="section__content">
            <h2>Decision OS</h2>
            <p>Modules communicating in a living network—<br>
            models that learn from each other.</p>
            <div id="network-container"></div>
        </div>
    </section>

    <!-- Section 11: Finale -->
    <section class="section" data-section="11" style="background: linear-gradient(180deg, var(--white) 0%, rgba(165, 180, 255, 0.1) 100%);">
        <div class="section__content">
            <h2>Forecasting becomes geometry:</h2>
            <p style="font-size: 1.5rem; max-width: 900px; margin: 2rem 0;">
                <strong>patterns → prediction → strategy</strong>
            </p>
            <p style="margin-top: 3rem; font-size: 1.3rem;">
                The question isn't <em>can we know the future</em>—<br>
                but <strong>how precisely we'll shape it.</strong>
            </p>
            <div class="logo">HYPERION</div>
        </div>
    </section>

    <script>
        // Intersection Observer for scroll animations
        const observerOptions = {
            threshold: 0.2,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.querySelector('.section__content').classList.add('visible');
                    
                    const section = entry.target.dataset.section;
                    triggerSectionAnimation(section);
                }
            });
        }, observerOptions);

        // Observe all sections
        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        // Track which sections have been animated
        const animatedSections = new Set();

        function triggerSectionAnimation(section) {
            if (animatedSections.has(section)) return;
            animatedSections.add(section);

            switch(section) {
                case '4c':
                    createBarChart();
                    break;
                case '5':
                    createForecastChart();
                    break;
                case '6':
                    createScatterPlot();
                    break;
                case '10':
                    createNetworkGraph();
                    break;
            }
        }

        // Bar chart for feature importance
        function createBarChart() {
            const data = [
                { label: 'Temperature', value: 41 },
                { label: 'Seasonality', value: 33 },
                { label: 'Growth', value: 18 },
                { label: 'Noise', value: 8 }
            ];

            const container = d3.select('#bar-container');
            container.html(''); // Clear
            
            const containerNode = container.node();
            if (!containerNode) return;
            
            const width = containerNode.getBoundingClientRect().width;
            const height = 400;
            const margin = { top: 40, right: 40, bottom: 80, left: 60 };

            const svg = container.append('svg')
                .attr('width', width)
                .attr('height', height);

            const x = d3.scaleBand()
                .domain(data.map(d => d.label))
                .range([margin.left, width - margin.right])
                .padding(0.4);

            const y = d3.scaleLinear()
                .domain([0, 50])
                .range([height - margin.bottom, margin.top]);

            // Bars
            svg.selectAll('rect')
                .data(data)
                .enter()
                .append('rect')
                .attr('x', d => x(d.label))
                .attr('y', height - margin.bottom)
                .attr('width', x.bandwidth())
                .attr('height', 0)
                .attr('fill', '#A5B4FF')
                .attr('rx', 6)
                .transition()
                .duration(1200)
                .delay((d, i) => i * 150)
                .attr('y', d => y(d.value))
                .attr('height', d => height - margin.bottom - y(d.value));

            // Labels
            svg.selectAll('text.label')
                .data(data)
                .enter()
                .append('text')
                .attr('class', 'label')
                .attr('x', d => x(d.label) + x.bandwidth() / 2)
                .attr('y', height - margin.bottom + 25)
                .attr('text-anchor', 'middle')
                .attr('font-size', '14px')
                .attr('fill', '#5A6472')
                .text(d => d.label);

            // Values
            svg.selectAll('text.value')
                .data(data)
                .enter()
                .append('text')
                .attr('class', 'value')
                .attr('x', d => x(d.label) + x.bandwidth() / 2)
                .attr('y', d => y(d.value) - 10)
                .attr('text-anchor', 'middle')
                .attr('font-size', '18px')
                .attr('font-weight', '600')
                .attr('fill', '#1A1F2E')
                .attr('opacity', 0)
                .text(d => d.value + '%')
                .transition()
                .duration(800)
                .delay((d, i) => i * 150 + 1000)
                .attr('opacity', 1);
        }

        // Forecast chart
        function createForecastChart() {
            const container = d3.select('#chart-container');
            container.html('');
            
            const containerNode = container.node();
            if (!containerNode) return;
            
            const width = containerNode.getBoundingClientRect().width - 40;
            const height = 360;
            const margin = { top: 20, right: 20, bottom: 50, left: 60 };

            const svg = container.append('svg')
                .attr('width', width + 40)
                .attr('height', height);

            // Generate data
            const historical = d3.range(24).map(i => ({
                month: i,
                value: 50 + Math.sin(i / 3) * 12 + Math.random() * 4
            }));

            const forecast = d3.range(24, 36).map(i => ({
                month: i,
                value: 50 + Math.sin(i / 3) * 12,
                upper: 54 + Math.sin(i / 3) * 12,
                lower: 46 + Math.sin(i / 3) * 12
            }));

            const x = d3.scaleLinear()
                .domain([0, 35])
                .range([margin.left, width - margin.right]);

            const y = d3.scaleLinear()
                .domain([25, 75])
                .range([height - margin.bottom, margin.top]);

            // Confidence band
            const area = d3.area()
                .x(d => x(d.month))
                .y0(d => y(d.lower))
                .y1(d => y(d.upper))
                .curve(d3.curveCatmullRom);

            svg.append('path')
                .datum(forecast)
                .attr('fill', '#C6E1FF')
                .attr('opacity', 0.5)
                .attr('d', area);

            // Lines
            const line = d3.line()
                .x(d => x(d.month))
                .y(d => y(d.value))
                .curve(d3.curveCatmullRom);

            // Historical
            const historicalPath = svg.append('path')
                .datum(historical)
                .attr('fill', 'none')
                .attr('stroke', '#1A1F2E')
                .attr('stroke-width', 3)
                .attr('d', line);

            const histLength = historicalPath.node().getTotalLength();
            historicalPath
                .attr('stroke-dasharray', histLength)
                .attr('stroke-dashoffset', histLength)
                .transition()
                .duration(2000)
                .attr('stroke-dashoffset', 0);

            // Forecast
            const forecastPath = svg.append('path')
                .datum(forecast)
                .attr('fill', 'none')
                .attr('stroke', '#A5B4FF')
                .attr('stroke-width', 3)
                .attr('stroke-dasharray', '8,4')
                .attr('d', line);

            const foreLength = forecastPath.node().getTotalLength();
            forecastPath
                .attr('stroke-dasharray', `${foreLength}, ${foreLength}`)
                .attr('stroke-dashoffset', foreLength)
                .transition()
                .delay(1800)
                .duration(1500)
                .attr('stroke-dashoffset', 0);

            // Axes
            svg.append('g')
                .attr('transform', `translate(0,${height - margin.bottom})`)
                .call(d3.axisBottom(x).ticks(10))
                .attr('color', '#5A6472');

            svg.append('g')
                .attr('transform', `translate(${margin.left},0)`)
                .call(d3.axisLeft(y).ticks(6))
                .attr('color', '#5A6472');

            svg.append('text')
                .attr('x', width / 2)
                .attr('y', height - 10)
                .attr('text-anchor', 'middle')
                .attr('font-size', '13px')
                .attr('fill', '#5A6472')
                .text('Months');
        }

        // Scatter plot
        function createScatterPlot() {
            const container = d3.select('#scatter-container');
            container.html('');
            
            const containerNode = container.node();
            if (!containerNode) return;
            
            const width = containerNode.getBoundingClientRect().width - 40;
            const height = 360;
            const margin = { top: 20, right: 20, bottom: 60, left: 60 };

            const svg = container.append('svg')
                .attr('width', width + 40)
                .attr('height', height);

            // Correlated data
            const data = d3.range(60).map(() => {
                const actual = 30 + Math.random() * 40;
                const predicted = actual + (Math.random() - 0.5) * 6;
                return { actual, predicted };
            });

            const x = d3.scaleLinear()
                .domain([20, 80])
                .range([margin.left, width - margin.right]);

            const y = d3.scaleLinear()
                .domain([20, 80])
                .range([height - margin.bottom, margin.top]);

            // Perfect correlation line
            svg.append('line')
                .attr('x1', x(20))
                .attr('y1', y(20))
                .attr('x2', x(20))
                .attr('y2', y(20))
                .attr('stroke', '#CFFAFB')
                .attr('stroke-width', 2.5)
                .attr('stroke-dasharray', '6,4')
                .transition()
                .duration(1500)
                .attr('x2', x(80))
                .attr('y2', y(80));

            // Points
            svg.selectAll('circle')
                .data(data)
                .enter()
                .append('circle')
                .attr('cx', d => x(d.actual))
                .attr('cy', d => y(d.predicted))
                .attr('r', 0)
                .attr('fill', '#A5B4FF')
                .attr('opacity', 0.7)
                .transition()
                .delay((d, i) => i * 20 + 400)
                .duration(400)
                .attr('r', 5);

            // Axes
            svg.append('g')
                .attr('transform', `translate(0,${height - margin.bottom})`)
                .call(d3.axisBottom(x))
                .attr('color', '#5A6472');

            svg.append('text')
                .attr('x', width / 2)
                .attr('y', height - 15)
                .attr('text-anchor', 'middle')
                .attr('font-size', '13px')
                .attr('fill', '#5A6472')
                .text('Actual Demand');

            svg.append('g')
                .attr('transform', `translate(${margin.left},0)`)
                .call(d3.axisLeft(y))
                .attr('color', '#5A6472');

            svg.append('text')
                .attr('transform', 'rotate(-90)')
                .attr('x', -height / 2)
                .attr('y', 20)
                .attr('text-anchor', 'middle')
                .attr('font-size', '13px')
                .attr('fill', '#5A6472')
                .text('Predicted Demand');
        }

        // Network graph
        function createNetworkGraph() {
            const container = d3.select('#network-container');
            container.html('');
            
            const containerNode = container.node();
            if (!containerNode) return;
            
            const width = containerNode.getBoundingClientRect().width - 40;
            const height = 360;

            const svg = container.append('svg')
                .attr('width', width + 40)
                .attr('height', height);

            const centerX = width / 2;
            const centerY = height / 2;
            const radius = Math.min(width, height) / 3;

            const nodes = [
                { id: 'HYPERION', x: centerX, y: centerY, r: 40, color: '#A5B4FF' },
                { id: 'Data', angle: 0, r: 25, color: '#CFFAFB' },
                { id: 'Model', angle: Math.PI / 2, r: 25, color: '#CFFAFB' },
                { id: 'Forecast', angle: Math.PI, r: 25, color: '#CFFAFB' },
                { id: 'Strategy', angle: 3 * Math.PI / 2, r: 25, color: '#CFFAFB' }
            ];

            // Calculate positions for outer nodes
            nodes.slice(1).forEach(node => {
                node.x = centerX + Math.cos(node.angle) * radius;
                node.y = centerY + Math.sin(node.angle) * radius;
            });

            const links = nodes.slice(1).map(node => ({
                source: nodes[0],
                target: node
            }));

            // Links
            svg.selectAll('line')
                .data(links)
                .enter()
                .append('line')
                .attr('x1', d => d.source.x)
                .attr('y1', d => d.source.y)
                .attr('x2', d => d.source.x)
                .attr('y2', d => d.source.y)
                .attr('stroke', '#C6E1FF')
                .attr('stroke-width', 2.5)
                .transition()
                .delay((d, i) => i * 200)
                .duration(1000)
                .attr('x2', d => d.target.x)
                .attr('y2', d => d.target.y);

            // Nodes
            const nodeGroups = svg.selectAll('g.node')
                .data(nodes)
                .enter()
                .append('g')
                .attr('class', 'node');

            nodeGroups.append('circle')
                .attr('cx', d => d.x)
                .attr('cy', d => d.y)
                .attr('r', 0)
                .attr('fill', d => d.color)
                .attr('opacity', 0.85)
                .transition()
                .delay((d, i) => i * 200 + 300)
                .duration(800)
                .attr('r', d => d.r);

            nodeGroups.append('text')
                .attr('x', d => d.x)
                .attr('y', d => d.y + 5)
                .attr('text-anchor', 'middle')
                .attr('font-size', d => d.id === 'HYPERION' ? '14px' : '12px')
                .attr('font-weight', d => d.id === 'HYPERION' ? '700' : '600')
                .attr('fill', '#1A1F2E')
                .attr('opacity', 0)
                .text(d => d.id)
                .transition()
                .delay((d, i) => i * 200 + 1100)
                .duration(600)
                .attr('opacity', 1);
        }

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>
